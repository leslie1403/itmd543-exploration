<section class="space-y-6">
  <div>
    <h1 class="text-3xl font-bold text-slate-900">Services and Options</h1>
    <p class="mt-2 text-slate-600">
      Take a look at our in-house equipment, audio/visual support, and catering options that are available for your
      event.
    </p>
  </div>

  <!-- category list -->
  <div class="grid gap-8 md:grid-cols-4">
    <aside class="md:col-span-1 space-y-4">
      <h2 class="text-sm font-semibold text-slate-700 uppercase">
        Categories
      </h2>

      <nav class="space-y-2">
        @for (category of categories; track category.id) {
        <button type="button" (click)="selectCategory(category.id)"
          class="w-full text-left rounded-lg px-3 py-2 text-sm transition hover:border-blue-500 hover:text-blue-600 hover:bg-blue-50"
          [class.bg-blue-200]="selectedCategoryId === category.id"
          [class.text-slate-900]="selectedCategoryId === category.id"
          [class.border-blue-700]="selectedCategoryId === category.id"
          [class.shadow-sm]="selectedCategoryId === category.id" [class.bg-white]="selectedCategoryId !== category.id"
          [class.text-slate-700]="selectedCategoryId !== category.id"
          [class.border-slate-200]="selectedCategoryId !== category.id">
          <div class="font-medium">
            {{ category.label }}
          </div>
          <p class="text-xs text-slate-500">
            {{ category.summary }}
          </p>
        </button>
        }
      </nav>
    </aside>

    <!-- before selecting category -->
    <div class="md:col-span-3">
      @if (!selectedCategory) {
      <div
        class="h-full flex items-center justify-center border border-dashed border-slate-300 rounded-xl p-8 text-center text-slate-500">
        <p class="max-w-md text-sm">
          Select a category from the list on the left to view available items for your event.
        </p>
      </div>
      } @else {
      <!-- selected category -->
      <section class="space-y-4">
        <div class="flex flex-col gap-2 sm:flex-row sm:items-baseline sm:justify-between">
          <h2 class="text-2xl font-semibold text-slate-900">
            {{ selectedCategory!.label }}
          </h2>
        </div>

        <!-- items from category -->
        <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
          @for (item of selectedCategory!.items; track $index) {
          <article
            class="bg-white border border-slate-200 rounded-xl p-4 shadow-sm flex flex-col items-center transition-transform transition-shadow duration-150 hover:shadow-md hover:-translate-y-1">
            <div class="w-full h-32 mb-3 rounded-md flex items-center justify-center overflow-hidden">
              @if (item.imageUrl) {
              <img [src]="item.imageUrl" [alt]="item.name" class="max-h-full max-w-full object-contain" />
              }
            </div>

            <h3 class="text-base font-semibold text-center text-slate-900">
              {{ item.name }}
            </h3>

            @if (item.description) {
            <p class="mt-1 text-xs text-slate-600">
              {{ item.description }}
            </p>
            }
          </article>
          }
        </div>
      </section>
      }
    </div>
  </div>
</section>